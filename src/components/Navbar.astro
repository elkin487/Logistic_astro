---
import { ASSETS } from "../lib/constants";
import { getLangFromUrl, useTranslations } from "../i18n/utils.ts";
import { getRelativeLocaleUrl } from "astro:i18n";
import LanguagePicker from "../components/LanguagePicker.astro";
import Links from "../components/Links.astro";

const { currentLocale } = Astro;
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

interface Props {
  title: string;
}
---

<style>
  @import url("https://fonts.googleapis.com/css2?family=Chakra+Petch:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&family=Zain:wght@200;300;400;700;800;900&display=swap");
  .font {
    font-family: "Chakra Petch", sans-serif;
  }
</style>
<nav
  class="navbar navbar-expand-lg bg-white navbar-light shadow border-top border-5 border-primary sticky-top p-0"
>
  <a
    href="/"
    class="navbar-brand bg-primary d-flex align-items-center px-4 px-lg-5"
  >
    <h2 class="mb-2 text-white font">{ASSETS.name}</h2>
  </a>
  <button
    type="button"
    class="navbar-toggler me-4"
    data-bs-toggle="collapse"
    data-bs-target="#navbarCollapse"
  >
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarCollapse">
    <div class="navbar-nav ms-auto p-4 p-lg-0">
      <Links route="/">{t("nav.home")}</Links>
      <Links route={getRelativeLocaleUrl(currentLocale ?? "", "about")}
        >{t("nav.about")}</Links
      >

      <div class="nav-item dropdown">
        <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown"
          >{t("nav.service")}</a
        >
        <div class="dropdown-menu fade-up m-0">
          <a
            href={getRelativeLocaleUrl(
              currentLocale ?? "",
              "services/maritime"
            )}
            class="dropdown-item">{t("nav.marine_transport")}</a
          >
          <a
            href={getRelativeLocaleUrl(
              currentLocale ?? "",
              "services/consulting"
            )}
            class="dropdown-item">{t("nav.consulting")}</a
          >
          <a
            href={getRelativeLocaleUrl(currentLocale ?? "", "services/customs")}
            class="dropdown-item">{t("nav.customs")}</a
          >
          <a
            href={getRelativeLocaleUrl(currentLocale ?? "", "services/air")}
            class="dropdown-item">{t("nav.air_transport")}</a
          >
          <a
            href={getRelativeLocaleUrl(currentLocale ?? "", "services/ground")}
            class="dropdown-item">{t("nav.ground_transportation")}</a
          >
          <a
            href={getRelativeLocaleUrl(
              currentLocale ?? "",
              "services/warehouse"
            )}
            class="dropdown-item">{t("nav.warehouse")}</a
          >
          <a
            href={getRelativeLocaleUrl(currentLocale ?? "", "services/car")}
            class="dropdown-item">{t("nav.car")}</a
          >
        </div>
      </div>
      <Links route={getRelativeLocaleUrl(currentLocale ?? "", "contact")}
        >{t("nav.contact")}</Links
      >
      <LanguagePicker />
    </div>
    <h4 class="m-0 pe-lg-5 d-none d-lg-block"></h4>
  </div>
</nav>
<!-- Navbar End -->
