---
import { ASSETS } from "../lib/constants";
import { getLangFromUrl, useTranslations } from "../i18n/utils.ts";
import { getRelativeLocaleUrl } from "astro:i18n";
import LanguagePicker from "../components/LanguagePicker.astro";
import Links from "../components/Links.astro";

const { currentLocale } = Astro;
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

interface Props {
  title: string;
}
---

<!-- Navbar Start -->
<div
  class="container-fluid navbar-expand-lg bg-white navbar-light shadow"
  style="background-color:whitesmoke"
>
  <div style="text-align: right;">
    <i class="fa fa-envelope flex-shrink-0 bg-primary p-2 text-white">
      {ASSETS.email}
    </i>
    <i class="fa fa-phone flex-shrink-0 bg-primary p-2 text-white">
      {ASSETS.number}
    </i>
  </div>
</div>
<nav
  class="navbar navbar-expand-lg bg-white navbar-light shadow border-top border-5 border-primary sticky-top p-0"
>
  <a
    href="/"
    class="navbar-brand bg-primary d-flex align-items-center px-4 px-lg-5"
  >
    <h2 class="mb-2 text-white">{ASSETS.name}</h2>
  </a>
  <button
    type="button"
    class="navbar-toggler me-4"
    data-bs-toggle="collapse"
    data-bs-target="#navbarCollapse"
  >
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarCollapse">
    <div class="navbar-nav ms-auto p-4 p-lg-0">
      <Links route="/">{t("nav.home")}</Links>
      <Links route={getRelativeLocaleUrl(currentLocale ?? "", "about")}
        >{t("nav.about")}</Links
      >
      <!-- <Links route={getRelativeLocaleUrl(currentLocale ?? "", "service")}>{t("nav.service")}</Links> -->
      <Links route={getRelativeLocaleUrl(currentLocale ?? "", "contact")}
        >{t("nav.contact")}</Links
      >
      <div class="nav-item dropdown">
        <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown"
          >{t("nav.service")}</a
        >
        <div class="dropdown-menu fade-up m-0">
          <a
            href={getRelativeLocaleUrl(
              currentLocale ?? "",
              "services/maritime"
            )}
            class="dropdown-item">{t("nav.marine_transport")}</a
          >
          <a
            href={getRelativeLocaleUrl(
              currentLocale ?? "",
              "services/consulting"
            )}
            class="dropdown-item">{t("nav.consulting")}</a
          >
          <a
            href={getRelativeLocaleUrl(currentLocale ?? "", "services/customs")}
            class="dropdown-item">{t("nav.customs")}</a
          >
          <a
            href={getRelativeLocaleUrl(currentLocale ?? "", "services/air")}
            class="dropdown-item">{t("nav.air_transport")}</a
          >
          <a
            href={getRelativeLocaleUrl(currentLocale ?? "", "services/ground")}
            class="dropdown-item">{t("nav.ground_transportation")}</a
          >
          <a
            href={getRelativeLocaleUrl(
              currentLocale ?? "",
              "services/warehouse"
            )}
            class="dropdown-item">{t("nav.warehouse")}</a
          >
        </div>
      </div>
      <!-- <div class="nav-item dropdown">
        <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown"
          >{t("nav.page")}</a
        >
        <div class="dropdown-menu fade-up m-0">
          <a
            href={getRelativeLocaleUrl(currentLocale ?? "", "team")}
            class="dropdown-item">{t("nav.our_team")}</a
          >
          <a
            href={getRelativeLocaleUrl(currentLocale ?? "", "testimonial")}
            class="dropdown-item">{t("nav.testimonial")}</a
          >
        </div>
      </div> -->
      <!-- <a
        href={getRelativeLocaleUrl(currentLocale ?? "", "contact")}
        class="nav-item nav-link">{t("nav.contact")}</a
      > -->
      <LanguagePicker />
    </div>
    <h4 class="m-0 pe-lg-5 d-none d-lg-block">
      <!-- <i class="fa fa-phone text-primary me-3"></i>{ASSETS.number} -->
    </h4>
  </div>
</nav>
<!-- Navbar End -->
