---
import { ASSETS } from "../lib/constants";
import { getLangFromUrl, useTranslations } from "../i18n/utils.ts";
import { getRelativeLocaleUrl } from "astro:i18n";
import LanguagePicker from "../components/LanguagePicker.astro";

const { currentLocale } = Astro;
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

interface Props {
  title: string;
}
---

<!-- Navbar Start -->
<nav
  class="navbar navbar-expand-lg bg-white navbar-light shadow border-top border-5 border-primary sticky-top p-0"
>
  <a
    href="/"
    class="navbar-brand bg-primary d-flex align-items-center px-4 px-lg-5"
  >
    <h2 class="mb-2 text-white">{ASSETS.name}</h2>
  </a>
  <button
    type="button"
    class="navbar-toggler me-4"
    data-bs-toggle="collapse"
    data-bs-target="#navbarCollapse"
  >
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarCollapse">
    <div class="navbar-nav ms-auto p-4 p-lg-0">
      <a href="/" class="nav-item nav-link active">{t("nav.home")}</a>
      <a
        href={getRelativeLocaleUrl(currentLocale ?? "", "about")}
        class="nav-item nav-link">{t("nav.about")}</a
      >
      <a
        href={getRelativeLocaleUrl(currentLocale ?? "", "service")}
        class="nav-item nav-link">{t("nav.service")}</a
      >
      <div class="nav-item dropdown">
        <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown"
          >{t("nav.page")}</a
        >
        <div class="dropdown-menu fade-up m-0">
          <!-- <a href="price" class="dropdown-item">Pricing Plan</a> -->
          <!-- <a href="feature" class="dropdown-item">{t("nav.features")}</a> -->
          <a
            href={getRelativeLocaleUrl(currentLocale ?? "", "team")}
            class="dropdown-item">{t("nav.our_team")}</a
          >
          <a
            href={getRelativeLocaleUrl(currentLocale ?? "", "testimonial")}
            class="dropdown-item">{t("nav.testimonial")}</a
          >
          <!-- <a href="404" class="dropdown-item">404 Page</a> -->
        </div>
      </div>
      <a
        href={getRelativeLocaleUrl(currentLocale ?? "", "contact")}
        class="nav-item nav-link">{t("nav.contact")}</a
      >
      <LanguagePicker />
    </div>
    <h4 class="m-0 pe-lg-5 d-none d-lg-block">
      <i class="fa fa-headphones text-primary me-3"></i>{ASSETS.number}
    </h4>
  </div>
</nav>
<!-- Navbar End -->
